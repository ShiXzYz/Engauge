{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engauge - Knowledge Garden</title>
    <link rel="stylesheet" href="{% static 'polls/css/garden.css' %}">
</head>
<body>
    <div class="main-layout">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="garden-header-mobile">
                <h2>Knowledge Garden</h2>
                <button onclick="window.history.back()" class="back-btn-mobile" style="cursor: pointer; background: none; border: none; color: inherit; font: inherit;">â† Back</button>
            </div>

            <div class="seed-section">
                <h3>Seeds</h3>
                <div class="seed-inventory">
                    <div class="seed-slot filled">
                        <div class="seed-packet" draggable="true" data-seed-id="1">
                            <img src="{% static 'polls/images/seed-packet.png' %}" alt="Seed" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                            <div class="seed-fallback" style="display: none;">ğŸŒ±</div>
                        </div>
                    </div>
                    <div class="seed-slot filled">
                        <div class="seed-packet" draggable="true" data-seed-id="2">
                            <img src="{% static 'polls/images/seed-packet.png' %}" alt="Seed" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                            <div class="seed-fallback" style="display: none;">ğŸŒ±</div>
                        </div>
                    </div>
                    <div class="seed-slot filled">
                        <div class="seed-packet" draggable="true" data-seed-id="3">
                            <img src="{% static 'polls/images/seed-packet.png' %}" alt="Seed" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                            <div class="seed-fallback" style="display: none;">ğŸŒ±</div>
                        </div>
                    </div>
                    <div class="seed-slot empty">
                        <div class="empty-slot-text">Empty</div>
                    </div>
                </div>
                <p class="instruction">Drag seeds to plant!</p>
            </div>

            <div class="water-section">
                <h3>Water Level ğŸ’§</h3>
                <div class="water-bar-container">
                    <div class="water-bar-bg">
                        <div id="water-bar-fill" class="water-bar-fill"></div>
                    </div>
                    <div class="water-bar-text">
                        <span id="current-water">0</span> / <span id="max-water">50</span> XP
                    </div>
                </div>
                <div id="ready-message" class="ready-message" style="display: none;">
                    âœ¨ Ready to Water! Click a plant to grow it!
                </div>
            </div>

            <div class="stats-section">
                <div class="stat-row">
                    <span class="stat-label">Total XP:</span>
                    <span class="stat-value" id="total-xp">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Plants Blooming:</span>
                    <span class="stat-value" id="blooming-count">0</span> / 9
                </div>
            </div>
        </div>

        <!-- Main Garden Area -->
        <div class="garden-area">
            <div class="garden-header-desktop">
                <h1>Your Knowledge Garden</h1>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <button id="reset-garden-btn" class="reset-btn" title="Reset your garden">ğŸ”„ Reset Garden</button>
                    <button onclick="window.history.back()" class="back-btn" style="cursor: pointer;">â† Back to Poll</button>
                </div>
            </div>

            <div class="greenhouse">
                <!-- 3x3 Grid of Plant Pots -->
                <div class="plant-grid" id="plant-grid">
                    <!-- Grid cells will be generated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Particle container for animations -->
    <div id="particle-container"></div>

    <script src="{% static 'polls/js/garden.js' %}"></script>
</body>
</html>
